<!DOCTYPE html>
<html>
	<head>
	  <meta charset="utf-8">
	  <title>Bataille Navale</title>
	  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.16/angular.min.js"></script>
	  <script>
		
		angular.module("game",[])
			.controller("Ctrl",function(){
			console.log("je suis ton petit controller");
				var ctrl=this;
				ctrl.games=[];
				console.log("remplit le formulaire !");
				this.addGame=function(form){
					console.log("welcome stranger, I've some rare things to sell")
					if (form.$invalid) return
					//Enregistre le ctrl.game dans ctrl.games
					ctrl.games.push(ctrl.game)
					console.log(ctrl.game)
					var clone = angular.copy(ctrl.game)
					
				}
			})
	  

	  </script>
	  
	</head>


	<body ng-app="game">
		<header>
			<h1>Bataille Navale</h1>
		</header>
		
		<main ng-controller="Ctrl as ctrl">
			<form name="bataille" ng-submit="ctrl.addGame(bataille)" novalidate>
				<p><label>nom : <input name="nom" type="text" ng-model="ctrl.game.nom" required></label></p>
				<p><label>email : <input name="email" type="email" ng-model="ctrl.game.email"></label></p>
				<p><label>pseudo : <input name="pseudo" ng-minlength="5" ng-model="ctrl.game.pseudo"></label></p>
				<p><label>champ de bataille : <input name="latitude" type="number" min="5" max="10" ng-model="ctrl.game.latitude" required><input name="longitude" type="number" min="5" max="10" ng-model="ctrl.game.longitude" required></label></p>
				<!-- <p><label>nombre de bateaux : <input name="bateau" type="number"min="1" max="5"></label></p> -->
				<select ng-model="ctrl.game.bateau" ng-option=" " required>
				  <option value="1">un bateau</option>
				  <option value="2">deux bateaux</option>
				  <option value="3">trois bateaux</option>
				  <option value="4">quatre bateaux</option>
				  <option value="5">cinq bateaux</option>
				</select>

				 <div class="validation">
                    <input type="submit" value="crÃ©er la partie">
                </div>
				<pre>{{ctrl.games | json }}</pre>
							</form>
	</body>
</html>